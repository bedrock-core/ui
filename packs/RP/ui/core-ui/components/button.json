{
	"namespace": "core-ui_components",
	"button": {
		"type": "panel",
		// Note: from size_binding_x/y seems relative to parent size so making parent 10x10 will be 10 times larger the child
		"size": [
			1,
			1
		],
		"controls": [
			{
				"button@controlled_button": {}
			}
		]
	},
	// Simple vanilla-style button - working foundation before adding protocol layer
	"controlled_button": {
		"type": "button",
		// === Base button functionality (from vanilla_button) ===
		"$focus_id|default": "",
		"$focus_override_down|default": "",
		"$focus_override_up|default": "",
		"$focus_override_left|default": "",
		"$focus_override_right|default": "",
		"focus_identifier": "$focus_id",
		"focus_change_down": "$focus_override_down",
		"focus_change_up": "$focus_override_up",
		"focus_change_left": "$focus_override_left",
		"focus_change_right": "$focus_override_right",
		"focus_enabled": true,
		"focus_magnet_enabled": true,
		"focus_wrap_enabled": true,
		"default_focus_precedence": 0,
		"layer": 1,
		"sound_name": "random.click",
		"sound_volume": 1.0,
		"sound_pitch": 1.0,
		"locked_control": "locked",
		"default_control": "default",
		"hover_control": "hover",
		"pressed_control": "pressed",
		"button_mappings": [
			{
				"from_button_id": "button.menu_select",
				"to_button_id": "button.form_button_click",
				"mapping_type": "pressed"
			},
			{
				"from_button_id": "button.menu_ok",
				"to_button_id": "button.form_button_click",
				"mapping_type": "focused"
			}
		],
		"bindings": [
			{
				"binding_type": "collection_details",
				"binding_collection_name": "form_buttons"
			}
		],
		// === Visual assets and states (light_button_assets + light_text_button) ===
		"$button_text|default": "",
		"$default_state|default": false,
		"$hover_state|default": false,
		"$pressed_state|default": false,
		"$locked_state|default": false,
		// === form_button overrides ===
		"anchor_from": "top_left",
		"anchor_to": "top_left",
		"size": [
			100,
			32
		],
		"$button_text": "#form_button_text",
		// === Controls (inlined new_ui_button_panel) ===
		"controls": [
			{
				"default": {
					"type": "panel",
					"layer": 1,
					"size": [
						"100%",
						"100%"
					],
					"anchor_to": "center",
					"anchor_from": "center",
					"controls": [
						{
							"button_image@button_image": {}
						},
						{
							"button_content": {
								"type": "panel",
								"size": [
									"100% - 6px",
									"100% - 6px"
								],
								"controls": [
									{
										"panel@custom_ui_binding_button_label": {
											"layer": 3
										}
									}
								]
							}
						}
					],
					"$button_texture": "textures/ui/core-ui/components/button/primary/background",
					"$default_state": true
				}
			},
			{
				"hover": {
					"type": "panel",
					"layer": 4,
					"size": [
						"100%",
						"100%"
					],
					"anchor_to": "center",
					"anchor_from": "center",
					"controls": [
						{
							"button_image@button_image": {}
						},
						{
							"button_content": {
								"type": "panel",
								"size": [
									"100% - 6px",
									"100% - 6px"
								],
								"controls": [
									{
										"panel@custom_ui_binding_button_label": {
											"layer": 3
										}
									}
								]
							}
						}
					],
					"$button_texture": "textures/ui/core-ui/components/button/primary/background_hover",
					"$hover_state": true
				}
			},
			{
				"pressed": {
					"type": "panel",
					"layer": 5,
					"size": [
						"100%",
						"100%"
					],
					"anchor_to": "center",
					"anchor_from": "center",
					"controls": [
						{
							"button_image@button_image": {}
						},
						{
							"button_content": {
								"type": "panel",
								"size": [
									"100% - 6px",
									"100% - 6px"
								],
								"controls": [
									{
										"panel@custom_ui_binding_button_label": {
											"layer": 3
										}
									}
								]
							}
						}
					],
					"$button_texture": "textures/ui/core-ui/components/button/primary/background_pressed",
					"$pressed_state": true,
					"$button_offset|default": [
						0,
						1
					]
				}
			},
			{
				"locked": {
					"type": "panel",
					"layer": 1,
					"size": [
						"100%",
						"100%"
					],
					"anchor_to": "center",
					"anchor_from": "center",
					"controls": [
						{
							"button_image@button_image": {}
						},
						{
							"button_content": {
								"type": "panel",
								"size": [
									"100% - 6px",
									"100% - 6px"
								],
								"controls": [
									{
										"panel@custom_ui_binding_button_label": {
											"layer": 3
										}
									}
								]
							}
						}
					],
					"$button_texture": "textures/ui/core-ui/components/button/primary/background_disabled",
					"$locked_state": true
				}
			}
		]
	},
	"custom_ui_binding_button_label": {
		"type": "label",
		"layer": 2,
		"text": "$button_text",
		"color": "$light_button_default_text_color",
		"font_type": "default",
		"font_size": "normal",
		"font_scale_factor": 1.0,
		"offset": [
			0,
			0
		],
		"anchor_from": "center",
		"anchor_to": "center",
		"shadow": false,
		"max_size": [
			"100%",
			10
		], // Per design buttons are single line text only
		"text_alignment": "center",
		"bindings": [
			{
				"binding_type": "none",
				"binding_collection_name": "form_buttons"
			},
			{
				"binding_type": "collection",
				"binding_collection_name": "form_buttons",
				"binding_name": "$button_text",
				"binding_name_override": "$button_text"
			}
		]
	},
	"button_image": {
		"type": "image",
		// TODO reminder for myself to know this is possible
		// "ignored": "(not $button_image_visible)",
		"size": [
			"100% - 2px",
			"100% - 2px"
		],
		"offset": [
			0,
			0
		],
		"layer": 1,
		"fill": false,
		"color": [
			1.0,
			1.0,
			1.0
		],
		"anchor_to": "center",
		"anchor_from": "center",
		"texture": "$button_texture",
		"alpha": 1
	}
}