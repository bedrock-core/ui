{
	"namespace": "core-ui_components",
	"button": {
		"type": "panel",
		// Note: from size_binding_x/y seems relative to parent size so making parent 10x10 will be 10 times larger the child
		"size": [
			1,
			1
		],
		"controls": [
			{
				"button@controlled_button": {}
			}
		]
	},
	// Simple vanilla-style button - working foundation before adding protocol layer
	"controlled_button": {
		"type": "button",
		// === Base button functionality (from vanilla_button) ===
		"$focus_id|default": "",
		"$focus_override_down|default": "",
		"$focus_override_up|default": "",
		"$focus_override_left|default": "",
		"$focus_override_right|default": "",
		"focus_identifier": "$focus_id",
		"focus_change_down": "$focus_override_down",
		"focus_change_up": "$focus_override_up",
		"focus_change_left": "$focus_override_left",
		"focus_change_right": "$focus_override_right",
		"focus_enabled": true,
		"focus_magnet_enabled": true,
		"focus_wrap_enabled": true,
		"default_focus_precedence": 0,
		"layer": 1,
		"sound_name": "random.click",
		"sound_volume": 1.0,
		"sound_pitch": 1.0,
		"locked_control": "locked",
		"default_control": "default",
		"hover_control": "hover",
		"pressed_control": "pressed",
		"button_mappings": [
			{
				"from_button_id": "button.menu_select",
				"to_button_id": "button.form_button_click",
				"mapping_type": "pressed"
			},
			{
				"from_button_id": "button.menu_ok",
				"to_button_id": "button.form_button_click",
				"mapping_type": "focused"
			}
		],
		"bindings": [
			{
				"binding_type": "collection_details",
				"binding_collection_name": "form_buttons"
			}
		],
		// === Visual assets and states (light_button_assets + light_text_button) ===
		"$font_type": "default",
		"$locked_alpha": 1,
		"$button_text|default": "",
		"$button_state_panel|default": "common_buttons.new_ui_button_panel",
		"$default_state|default": false,
		"$hover_state|default": false,
		"$pressed_state|default": false,
		"$locked_state|default": false,
		// === form_button overrides ===
		"anchor_from": "top_left",
		"anchor_to": "top_left",
		"size": [
			100,
			32
		],
		"$button_text": "#form_button_text",
		"$button_text_binding_type": "collection",
		"$button_text_grid_collection_name": "form_buttons",
		"$button_text_max_size": [
			"100%",
			20
		],
		// === Controls (inlined new_ui_button_panel) ===
		"controls": [
			{
				"default": {
					"type": "panel",
					"layer": 1,
					"size": [
						"100%",
						"100%"
					],
					"$button_image_visible|default": true,
					"anchor_to": "center",
					"anchor_from": "center",
					"controls": [
						{
							"button_image@button_image": {}
						},
						{
							"button_content": {
								"type": "panel",
								"size": [
									"100% - 6px",
									"100% - 6px"
								],
								"controls": [
									{
										"panel@custom_ui_binding_button_label": {
											"layer": 3
										}
									}
								]
							}
						}
					],
					"$new_ui_button_texture": "textures/ui/button_borderless_light",
					"$default_state": true
				}
			},
			{
				"hover": {
					"type": "panel",
					"layer": 4,
					"size": [
						"100%",
						"100%"
					],
					"$button_image_visible|default": true,
					"anchor_to": "center",
					"anchor_from": "center",
					"controls": [
						{
							"button_image@button_image": {}
						},
						{
							"button_content": {
								"type": "panel",
								"size": [
									"100% - 6px",
									"100% - 6px"
								],
								"controls": [
									{
										"panel@custom_ui_binding_button_label": {
											"layer": 3
										}
									}
								]
							}
						}
					],
					"$new_ui_button_texture": "textures/ui/button_borderless_lighthover",
					"$hover_state": true
				}
			},
			{
				"pressed": {
					"type": "panel",
					"layer": 5,
					"size": [
						"100%",
						"100%"
					],
					"$button_image_visible|default": true,
					"anchor_to": "center",
					"anchor_from": "center",
					"controls": [
						{
							"button_image@button_image": {}
						},
						{
							"button_content": {
								"type": "panel",
								"size": [
									"100% - 6px",
									"100% - 6px"
								],
								"controls": [
									{
										"panel@custom_ui_binding_button_label": {
											"layer": 3
										}
									}
								]
							}
						}
					],
					"$new_ui_button_texture": "textures/ui/button_borderless_lightpressed",
					"$pressed_state": true,
					"$button_offset|default": [
						0,
						1
					]
				}
			},
			{
				"locked": {
					"type": "panel",
					"layer": 1,
					"size": [
						"100%",
						"100%"
					],
					"$button_image_visible|default": true,
					"anchor_to": "center",
					"anchor_from": "center",
					"controls": [
						{
							"button_image@button_image": {}
						},
						{
							"button_content": {
								"type": "panel",
								"size": [
									"100% - 6px",
									"100% - 6px"
								],
								"controls": [
									{
										"panel@custom_ui_binding_button_label": {
											"layer": 3
										}
									}
								]
							}
						}
					],
					"$new_ui_button_texture": "textures/ui/disabledButtonNoBorder",
					"$locked_state": true
				}
			}
		]
	},
	"custom_ui_binding_button_label": {
		"type": "label",
		"layer": 2,
		"text": "$button_text",
		"color": "$light_button_default_text_color",
		"font_type": "default",
		"font_size": "$button_font_size",
		"font_scale_factor": 1.0,
		"$button_font_size|default": "normal",
		"$button_offset|default": [
			0,
			0
		],
		"offset": "$button_offset",
		"$anchor|default": "center",
		"anchor_from": "$anchor",
		"anchor_to": "$anchor",
		"shadow": false,
		"$button_text_size|default": [
			"default",
			"default"
		],
		"size": "$button_text_size",
		"$button_text_max_size|default": [
			"100%",
			10
		], // Per design buttons are single line text only
		"max_size": "$button_text_max_size",
		"$text_alignment|default": "center",
		"text_alignment": "$text_alignment",
		"$tts_section_header|default": "",
		"tts_section_header": "$tts_section_header",
		"$button_text_collection_details|default": "none",
		"$button_text_collection_prefix|default": "",
		"bindings": [
			{
				"binding_type": "$button_text_collection_details",
				"binding_collection_name": "$button_text_grid_collection_name",
				"binding_collection_prefix": "$button_text_collection_prefix"
			},
			{
				"binding_type": "$button_text_binding_type",
				"binding_collection_name": "$button_text_grid_collection_name",
				"binding_name": "$button_text",
				"binding_name_override": "$button_text"
			}
		]
	},
	"button_image": {
		"type": "image",
		"$button_image_visible|default": true,
		"ignored": "(not $button_image_visible)",
		"size": [
			"100% - 2px",
			"100% - 2px"
		],
		"offset": [
			0,
			0
		],
		"layer": 1,
		"fill": false,
		"color": [
			1.0,
			1.0,
			1.0
		],
		"anchor_to": "center",
		"anchor_from": "center",
		"texture": "$new_ui_button_texture",
		"alpha": 1
	}
}